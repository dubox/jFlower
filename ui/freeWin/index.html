<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>jFlower</title>
    <script type="text/javascript" src="../iview/vue.min.js"></script>
    <link rel="stylesheet" href="../iview/iview.css">
    <script type="text/javascript" src="../iview/iview.min.js"></script>
    <style>
        [v-cloak] {
            display: none;
        }

        body {
            font-family: "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
        }

        .ivu-layout {
            background: none;
        }

        .file-info {
            width: 80%;
            margin: 0 auto;
        }

        .file-info h1 {
            font-size: 24px;
            font-weight: 400;
        }

        .file-info p {
            margin: 5px;
            font-size: 14px;
            padding-top: 10px;
        }

        .file-info p:before {
            content: "";
            display: block;
            width: 150px;
            height: 1px;
            margin: 0 auto;
            background: #e0e3e6;
            position: relative;
            top: -5px;
        }

        .file-info span {
            display: block;
            padding-top: 10px;
            color: #657180;
            font-size: 14px;
        }

        .file-info i {
            font-style: normal;
            color: #515a6e;
        }

        .file-info .speed {
            color: #19be6b;
        }

        .file-info .total {
            color: #2db7f5;
        }

        .col {
            flex-shrink: 0;
            flex-grow: 1;
        }



        #history .ivu-card {
            background: rgba(255, 255, 255, .85);
            word-wrap: break-word;
        }

        #history .ivu-row-flex {
            padding-bottom: 20px;
        }

        #history .ivu-scroll-content {
            min-height: 100%;
        }

        .ivu-card-head p {
            font: 16px bold;
            color: #464c5b;
        }

        .ivu-card-body{
            position: relative;
        }

        .ivu-card-body .op{
            display: none;
        }
    

        .ivu-card-body:hover .op{
            display: block;
        }

        .ivu-card-body p {
            font: 14px;
            color: #657180;
        }
        .ivu-drawer-left .ld{
            font-size: 14px;
            color: #353b43;
            margin: 10px 0;
        }
        .info{
            font-size: 12px;
            color: #9ea7b4;
        }
        .bottom-line{
            border-bottom: 1px solid #edeef0;
            margin-bottom: 5px;
            padding-bottom: 2px;
        }
    </style>
</head>

<body>
    
    <div id="ui" v-cloak>
      
       
                        <Card>
                            <div v-if="!item" style="text-align:center">
                                <img src="../img/logo.png" width="60%">
                               
                            </div>
                            <p slot="title" align="left">

                                <Icon v-if="item.type==2" type="ios-paper-plane-outline" size="20"></Icon>
                                {{item.hostName}}({{item.ip}})
                                <Icon v-if="item.type==1" type="ios-paper-plane-outline" size="20"
                                    style="transform: rotate(80deg);"></Icon>
                            </p>
                            <a v-if="item.contentType=='img' && runTime.imgPreView != index" href="#" slot="extra"
                                @click.prevent="runTime.imgPreView = index">
                                <Icon type="ios-eye-outline"  size="20"/>
                            </a>
                            <a v-if="item.contentType=='img' && runTime.imgPreView == index" href="#" slot="extra"
                                @click.prevent="runTime.imgPreView = -1">
                                <Icon type="ios-eye-off-outline"  size="20"/>
                            </a>
                            <a v-if="item.contentType=='file'" href="#" slot="extra"
                                @click.prevent="copy(item.content.path,item.contentType)">
                                <Icon type="ios-copy-outline" size="20"></Icon>
                            </a>
                            <a v-if="item.contentType!='file'" href="#" slot="extra"
                                @click.prevent="copy(item.content,item.contentType)">
                                <Icon type="ios-copy-outline" size="20"></Icon>
                            </a>
                            <a v-if="item.contentType=='img'" href="#" slot="extra"
                                @click.prevent="saveImg(item.content)">
                                <Icon type="ios-download-outline"  size="20"/>
                            </a>
                            <a href="#" slot="extra"
                                @click.prevent="del(index)">
                                <Icon type="ios-trash-outline" size="20"></Icon>
                            </a>
                            <a v-if="item.contentType=='file' && item.content.transferred < item.content.total" href="#" slot="extra"
                                @click.prevent="del(index)">
                                <Icon type="ios-close-circle-outline" size="20" />
                            </a>
                            <p v-if="item.contentType=='text'">
                                <span v-html="item.content"></span>
                            </p>
                            <p v-if="item.contentType=='img'">
                                <img :src="item.content" style="max-width: 100%;" />
                            </p>
                            <i-circle v-if="item.contentType=='file'" style="width: 100%;height: 100%;" :trail-width="4" :stroke-width="5"
                                :percent="Math.round((item.content.transferred/item.content.total)*100)"
                                stroke-color="#2db7f5">
                                <div class="file-info">
                                    <h1 v-on:click="showFile(item.content.path)"
                                        style="color: #2db7f5;cursor: pointer;">{{item.content.name}}</h1>

                                    <span class="speed">

                                        {{Math.round((item.content.transferred / 1000 / 1000) / (item.content.elapsed / 1000) * 100) / 100}}
                                        M/s - {{Math.round(item.content.elapsed/ 1000)}}s
                                    </span>
                                    <span class="total">

                                        {{(item.content.transferred/1000/1000).toFixed(3)}} /
                                        <i>{{(item.content.total/1000/1000).toFixed(3)}} M</i>
                                    </span>

                                </div>
                               
                            </i-circle>
                            <a class="op" href="#"  v-if="item.contentType=='file' && item.content.status=='sending'"
                            @click.prevent="filePause(item)" style="display: table;position: absolute;top: 0px;left: 0;width: 100%;height: 100%;background-color: rgba(255, 255, 255, 0.7);">
                            <Icon type="ios-pause" size="100" style="display: table-cell;vertical-align: middle;" />
                        </a>
                            <a class="op" href="#"  v-if="item.contentType=='file' && item.content.status=='paused'"
                            @click.prevent="fileResume(item)" style="display: table;position: absolute;top: 0px;left: 0;width: 100%;height: 100%;background-color: rgba(255, 255, 255, 0.7);">
                            <Icon type="ios-play" size="100" style="display: table-cell;vertical-align: middle;" />
                        </a>
                        </Card>
                 
     
    </div>
<script src="./index.js"></script>
</body>

</html>